<script setup>
import { Bell, Settings, Grid3x3, ChevronUp, ChevronDown } from 'lucide-vue-next'
import Button from '@/components/ui/Button.vue'
import { ref, onMounted, onUnmounted } from 'vue'

const isProfileOpen = ref(false)

const handleClickOutside = (event) => {
	const target = event.target
	if (!target.closest('.profile-dropdown')) {
		isProfileOpen.value = false
	}
}

onMounted(() => {
	document.addEventListener('click', handleClickOutside)
})

onUnmounted(() => {
	document.removeEventListener('click', handleClickOutside)
})
</script>

<template>
	<header class="fixed top-0 left-0 right-0 z-30 w-full border-b bg-white">
		<div class="flex h-16 items-center justify-between px-4 lg:px-6 w-full">
			<!-- Left Side - Logo and Title -->
			<div class="flex items-center gap-[124px]">
				<!-- Logo super -->
				<div class="flex items-center gap-1.5">
					<svg width="130" height="30" viewBox="0 0 130 30" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M117.979 23.3581V5.46632H121.275C121.988 5.46632 122.567 6.04463 122.567 6.758V9.75904L122.239 9.13644C122.632 7.62907 123.277 6.61323 124.172 6.08893C125.09 5.54278 126.171 5.2697 127.416 5.2697H130L128.773 8.67587C128.588 9.18816 128.102 9.52966 127.557 9.52966H126.925C125.723 9.52966 124.751 9.90104 124.008 10.6438C123.266 11.3647 122.894 12.3915 122.894 13.7241V23.3581H117.979Z" fill="black"/>
						<path d="M106.565 23.7513C104.664 23.7513 103.015 23.3363 101.616 22.5061C100.218 21.6541 99.137 20.5182 98.3724 19.0982C97.6078 17.6782 97.2254 16.1053 97.2254 14.3794C97.2254 12.5881 97.6187 10.9933 98.4051 9.59518C99.2134 8.19704 100.295 7.09382 101.649 6.28552C103.004 5.47722 104.533 5.07307 106.237 5.07307C107.657 5.07307 108.913 5.30246 110.005 5.76122C111.098 6.19814 112.015 6.82075 112.758 7.62905C113.523 8.43735 114.101 9.37672 114.495 10.4472C114.888 11.4958 115.085 12.6427 115.085 13.8879C115.085 14.2374 115.063 14.587 115.019 14.9365C114.997 15.2642 114.942 15.5482 114.855 15.7885H101.453V12.1839H112.07L109.743 13.8879C109.962 12.9485 109.951 12.1184 109.71 11.3975C109.47 10.6547 109.044 10.0758 108.432 9.66072C107.843 9.2238 107.111 9.00534 106.237 9.00534C105.385 9.00534 104.653 9.21288 104.041 9.62795C103.43 10.043 102.971 10.6547 102.665 11.463C102.359 12.2713 102.239 13.2544 102.305 14.4122C102.217 15.4171 102.337 16.3019 102.665 17.0665C102.993 17.8311 103.495 18.4319 104.172 18.8688C104.85 19.2839 105.669 19.4914 106.63 19.4914C107.504 19.4914 108.247 19.3166 108.858 18.9671C109.022 18.8769 109.176 18.778 109.32 18.6703C110.017 18.1516 110.939 17.8132 111.724 18.1858L114.265 19.3931C113.916 20.2669 113.359 21.0315 112.594 21.6869C111.851 22.3423 110.967 22.8557 109.94 23.227C108.913 23.5766 107.788 23.7513 106.565 23.7513Z" fill="black"/>
						<path d="M75.8978 29.9119V5.4663H79.3783C79.9897 5.4663 80.4854 5.96199 80.4854 6.57346V8.87427L80.0594 7.8912C80.6493 6.99552 81.4466 6.30737 82.4515 5.82676C83.4783 5.3243 84.6471 5.07307 85.9578 5.07307C87.6618 5.07307 89.2019 5.48815 90.5782 6.31829C91.9545 7.14844 93.0468 8.2735 93.8551 9.69349C94.6634 11.0916 95.0676 12.6645 95.0676 14.4122C95.0676 16.138 94.6634 17.7109 93.8551 19.1309C93.0687 20.5509 91.9873 21.676 90.611 22.5061C89.2347 23.3363 87.6727 23.7513 85.925 23.7513C84.7017 23.7513 83.5657 23.5329 82.5171 23.096C81.4903 22.6372 80.6602 21.9709 80.0266 21.0971L80.8131 20.0812V29.9119H75.8978ZM85.3352 19.3275C86.2527 19.3275 87.061 19.12 87.7601 18.7049C88.4592 18.2899 89.0053 17.7109 89.3985 16.9682C89.7918 16.2254 89.9884 15.3734 89.9884 14.4122C89.9884 13.451 89.7918 12.6099 89.3985 11.889C89.0053 11.1462 88.4592 10.5673 87.7601 10.1523C87.061 9.71534 86.2527 9.49688 85.3352 9.49688C84.4614 9.49688 83.6749 9.70441 82.9758 10.1195C82.2986 10.5346 81.7634 11.1135 81.3702 11.8562C80.9988 12.599 80.8131 13.451 80.8131 14.4122C80.8131 15.3734 80.9988 16.2254 81.3702 16.9682C81.7634 17.7109 82.2986 18.2899 82.9758 18.7049C83.6749 19.12 84.4614 19.3275 85.3352 19.3275Z" fill="black"/>
						<path d="M62.7039 23.7514C61.2621 23.7514 60.0278 23.4455 59.001 22.8339C57.9961 22.2003 57.2315 21.3265 56.7072 20.2123C56.1829 19.0982 55.9208 17.7984 55.9208 16.3128V5.46634H59.5444C60.2578 5.46634 60.8361 6.04464 60.8361 6.75802V15.9196C60.8361 16.5968 60.9672 17.1976 61.2293 17.7219C61.5133 18.2244 61.9066 18.6176 62.409 18.9016C62.9115 19.1856 63.4795 19.3276 64.113 19.3276C64.7684 19.3276 65.3364 19.1856 65.817 18.9016C66.3194 18.6176 66.7017 18.2244 66.9639 17.7219C67.2479 17.1976 67.3899 16.5968 67.3899 15.9196V5.46634H72.3052V23.3582H67.7176V19.8191L67.9797 20.6056C67.5647 21.676 66.8874 22.4734 65.9481 22.9977C65.0305 23.5002 63.9492 23.7514 62.7039 23.7514Z" fill="black"/>
						<path d="M46.4293 23.7513C44.4632 23.7513 42.7483 23.2926 41.2846 22.3751C39.8428 21.4357 38.8597 20.1795 38.3354 18.6066L40.7765 17.4526C41.4198 17.1486 42.1741 17.4355 42.6037 18.0026C42.9499 18.4596 43.3512 18.8466 43.8078 19.1637C44.5942 19.7099 45.4681 19.9829 46.4293 19.9829C47.1284 19.9829 47.6636 19.8409 48.035 19.5569C48.4064 19.2729 48.5921 18.8797 48.5921 18.3772C48.5921 18.1151 48.5265 17.8966 48.3954 17.7219C48.2644 17.5253 48.0678 17.3505 47.8056 17.1976C47.5434 17.0446 47.2158 16.9136 46.8225 16.8043L43.775 15.9523C42.3113 15.5373 41.1863 14.871 40.3998 13.9534C39.6134 13.0141 39.2201 11.9109 39.2201 10.6438C39.2201 9.52964 39.5041 8.5575 40.0721 7.72736C40.6401 6.89721 41.4375 6.25275 42.4643 5.79399C43.491 5.31338 44.6707 5.07307 46.0033 5.07307C47.751 5.07307 49.2802 5.48815 50.591 6.31829C51.9236 7.12659 52.8629 8.2735 53.4091 9.75903L51.0631 10.858C50.3715 11.182 49.5616 10.8068 49.0315 10.2571C48.8291 10.0472 48.5952 9.85932 48.3299 9.69349C47.6527 9.23472 46.8771 9.00534 46.0033 9.00534C45.3698 9.00534 44.8673 9.13642 44.4959 9.39857C44.1464 9.66072 43.9716 10.0212 43.9716 10.4799C43.9716 10.7202 44.0372 10.9387 44.1683 11.1353C44.2993 11.3319 44.5069 11.5067 44.7909 11.6596C45.0967 11.8125 45.4681 11.9545 45.905 12.0856L48.7559 12.9376C50.2414 13.3745 51.3774 14.0408 52.1639 14.9365C52.9503 15.8104 53.3435 16.8917 53.3435 18.1806C53.3435 19.2948 53.0486 20.2669 52.4588 21.0971C51.8908 21.9272 51.0934 22.5826 50.0667 23.0632C49.0399 23.522 47.8274 23.7513 46.4293 23.7513Z" fill="black"/>
						<path d="M15.5075 9.88813L8.22083 17.1748C7.49764 17.898 6.32419 17.895 5.60466 17.1682L0.963785 12.4801C-0.313199 11.1902 -0.322365 9.11529 0.943171 7.81409L7.88911 0.672414C8.30721 0.242525 8.8814 0 9.48109 0H29.2004V3.80472L24.2109 8.7942C23.8134 9.19174 23.2742 9.41508 22.712 9.41508H16.6496C16.2212 9.41508 15.8104 9.58524 15.5075 9.88813Z" fill="#0641FC"/>
						<path d="M14.8506 20.1198L22.1373 12.8331C22.8605 12.1099 24.0339 12.1129 24.7535 12.8397L29.3944 17.5278C30.6713 18.8177 30.6805 20.8926 29.415 22.1938L22.469 29.3355C22.0509 29.7654 21.4767 30.0079 20.8771 30.0079H1.15775V26.2032L6.14724 21.2137C6.54478 20.8162 7.08396 20.5928 7.64617 20.5928H13.7086C14.1369 20.5928 14.5477 20.4227 14.8506 20.1198Z" fill="#0641FC"/>
					</svg>
				</div>

				<div class="flex items-center gap-1.5">
					<h1 class="text-lg font-bold text-black">Super central de gestão</h1>
					<svg width="15" height="23" viewBox="0 0 15 23" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M9.4381 4.56543C9.20676 4.37258 8.91682 4.24529 8.59421 4.21582C7.74814 4.13857 6.99976 4.76157 6.92251 5.60764C6.85456 6.35035 7.32654 7.01771 8.01524 7.22205C8.44299 7.03747 8.93849 6.89336 9.50106 6.79102L9.4381 4.56543ZM7.89711 5.97373L7.72319 5.86503C7.89335 5.59267 8.87293 5.64832 9.28613 5.68476L9.26808 5.88903C8.60256 5.83037 7.96205 5.86988 7.89711 5.97373Z" fill="#0641FC"/>
						<path d="M7.89711 5.97373L7.72319 5.86503C7.89335 5.59267 8.87293 5.64832 9.28613 5.68476L9.26808 5.88903C8.60256 5.83037 7.96205 5.86988 7.89711 5.97373Z" fill="#0641FC"/>
						<path d="M11.0515 8.38673L11.0799 9.39031C11.0813 9.44514 11.0766 9.50078 11.0657 9.55623C11.0964 10.6016 11.1617 13.6994 11.0206 17.8242C12.5952 17.6061 14.2 17.7722 14.7621 17.8447C14.4627 16.6677 12.8567 10.5458 11.4133 8.75712C11.2989 8.61527 11.1771 8.4931 11.0515 8.38673Z" fill="#0641FC"/>
						<path d="M6.12686 9.31258C6.11565 9.32441 6.10423 9.33576 6.09302 9.34772C6.10184 9.34882 6.11031 9.35005 6.11934 9.35114C6.12159 9.33822 6.12446 9.3255 6.12686 9.31258Z" fill="#0641FC"/>
						<path d="M6.33938 11.4096C6.50455 11.3099 6.69385 11.2573 6.8867 11.2573C7.10649 11.2573 7.31753 11.3242 7.49712 11.4507L7.53541 11.4776C7.52919 11.1765 7.50382 10.8922 7.46745 10.6305C7.33189 10.7906 7.12625 10.8873 6.90414 10.8925C6.85478 10.8937 6.79865 10.8944 6.73726 10.8944C6.24162 10.8944 5.64111 10.8483 5.15067 10.676C3.7795 12.6912 0.641595 16.3351 0 17.0755C0.966939 17.6135 6.49682 20.5783 8.14802 18.989C8.36022 18.7847 8.60619 18.6117 8.87596 18.4652C8.93106 17.0636 8.96661 15.6568 8.98117 14.2564C8.91376 14.3017 8.84075 14.3394 8.76329 14.3685C8.64372 14.4134 8.51841 14.4362 8.39078 14.4362C8.33602 14.4362 8.28146 14.4319 8.22752 14.4235L8.45032 16.1461C8.52525 16.7256 8.11479 17.2579 7.53527 17.3329C7.49001 17.3388 7.44394 17.3417 7.39834 17.3417C6.8679 17.3417 6.41663 16.9446 6.34854 16.4179L5.83581 12.4528C5.78201 12.0361 5.97972 11.6266 6.33938 11.4096Z" fill="#0641FC"/>
						<path d="M10.8595 9.53724C10.8702 9.49191 10.8759 9.44474 10.8745 9.396L10.6239 0.531461C10.6155 0.234762 10.3724 0 10.0774 0C10.0722 0 10.067 6.83639e-05 10.0617 0.000205092C9.75981 0.00875058 9.5219 0.260398 9.53045 0.562361L9.71203 6.9859C9.65918 6.97954 9.60442 6.98077 9.54918 6.99068C9.52122 6.99574 9.4947 7.00155 9.46708 7.00682L9.09114 7.64698L8.45351 7.27255C7.58153 7.57615 6.96195 8.02571 6.60817 8.61692C6.40205 8.9612 6.32042 9.2955 6.29745 9.57532C5.94449 9.54592 5.62824 9.48679 5.48625 9.41774C5.43908 9.18188 5.23904 8.9971 4.98753 8.97973C4.68591 8.95874 4.42504 9.1864 4.40425 9.48767C4.38757 9.73009 4.47405 9.96376 4.6477 10.1456C5.10129 10.6205 6.1623 10.6892 6.73724 10.6892C6.79692 10.6892 6.85148 10.6885 6.8994 10.6874C7.07544 10.6833 7.2417 10.6035 7.34117 10.4582C7.43893 10.3154 7.46586 10.1435 7.4098 9.98044C7.40932 9.97894 7.40905 9.97743 7.4085 9.97593C7.39941 9.9412 7.35149 9.73228 7.42389 9.46676C7.57969 9.98694 7.77364 10.8545 7.73761 11.871L7.37904 11.6184C7.10203 11.4232 6.73567 11.4101 6.44546 11.5853C6.15526 11.7604 5.99597 12.0904 6.03945 12.4266L6.55218 16.3917C6.60783 16.8226 6.97535 17.1368 7.39859 17.1367C7.4351 17.1367 7.47208 17.1344 7.5092 17.1296C7.97729 17.069 8.30769 16.6406 8.24712 16.1725L7.98269 14.1273C8.19913 14.245 8.45782 14.2643 8.69142 14.1765C8.9242 14.0891 9.10557 13.9052 9.19137 13.6753C9.17824 15.7371 9.11603 18.3842 8.93938 21.3587C8.91135 21.8298 9.2706 22.2344 9.74169 22.2624C9.75899 22.2634 9.77608 22.2639 9.79317 22.2639C10.2419 22.2639 10.6185 21.9138 10.6454 21.46C10.9947 15.5768 10.9016 10.9479 10.8595 9.53724Z" fill="#0641FC"/>
					</svg>
				</div>
			</div>

			<!-- Right Side - Icons and User Profile -->
			<div class="flex items-center gap-4">
				<!-- Icons -->
				<Button variant="ghost" size="icon" class="h-9 w-9">
					 <svg width="30" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M7.464 24.536C8.93 26 11.286 26 16 26C20.714 26 23.071 26 24.535 24.535C26 23.072 26 20.714 26 16C26 11.286 26 8.929 24.535 7.464C23.072 6 20.714 6 16 6C11.286 6 8.929 6 7.464 7.464C6 8.93 6 11.286 6 16C6 20.714 6 23.072 7.464 24.536Z" stroke="#2A2E33" stroke-width="1.5"/>
						<path d="M22 12.5H18M22 18.5H18M22 21.5H18M14 12.5H12M12 12.5H10M12 12.5V10.5M12 12.5V14.5M13.5 18.5L12 20M12 20L10.5 21.5M12 20L10.5 18.5M12 20L13.5 21.5" stroke="#2A2E33" stroke-width="1.5" stroke-linecap="round"/>
					</svg>
				</Button>

				<Button variant="ghost" size="icon" class="h-9 w-9">
					<svg width="30" height="32" viewBox="0 0 31 32" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M15.4282 19C17.0851 19 18.4282 17.6569 18.4282 16C18.4282 14.3431 17.0851 13 15.4282 13C13.7714 13 12.4282 14.3431 12.4282 16C12.4282 17.6569 13.7714 19 15.4282 19Z" stroke="#2A2E33" stroke-width="1.5"/>
						<path d="M17.1932 6.152C16.8262 6 16.3602 6 15.4282 6C14.4962 6 14.0302 6 13.6632 6.152C13.4204 6.25251 13.1997 6.3999 13.0139 6.58572C12.8281 6.77155 12.6807 6.99218 12.5802 7.235C12.4882 7.458 12.4512 7.719 12.4372 8.098C12.4307 8.37193 12.3548 8.63973 12.2166 8.87635C12.0785 9.11298 11.8825 9.31069 11.6472 9.451C11.408 9.58477 11.1388 9.65567 10.8647 9.65707C10.5907 9.65847 10.3207 9.59032 10.0802 9.459C9.74418 9.281 9.50118 9.183 9.26018 9.151C8.7345 9.08187 8.20288 9.22431 7.78219 9.547C7.46819 9.79 7.23418 10.193 6.76818 11C6.30218 11.807 6.06818 12.21 6.01718 12.605C5.98282 12.8655 6.0001 13.1301 6.06805 13.3839C6.136 13.6377 6.25328 13.8756 6.41318 14.084C6.56118 14.276 6.76818 14.437 7.08918 14.639C7.56218 14.936 7.86619 15.442 7.86619 16C7.86619 16.558 7.56218 17.064 7.08918 17.36C6.76818 17.563 6.56018 17.724 6.41318 17.916C6.25328 18.1244 6.136 18.3623 6.06805 18.6161C6.0001 18.8699 5.98282 19.1345 6.01718 19.395C6.06918 19.789 6.30218 20.193 6.76718 21C7.23418 21.807 7.46719 22.21 7.78219 22.453C7.99062 22.6129 8.22852 22.7302 8.48229 22.7981C8.73606 22.8661 9.00073 22.8834 9.26119 22.849C9.50119 22.817 9.74418 22.719 10.0802 22.541C10.3207 22.4097 10.5907 22.3415 10.8647 22.3429C11.1388 22.3443 11.408 22.4152 11.6472 22.549C12.1302 22.829 12.4172 23.344 12.4372 23.902C12.4512 24.282 12.4872 24.542 12.5802 24.765C12.6807 25.0078 12.8281 25.2284 13.0139 25.4143C13.1997 25.6001 13.4204 25.7475 13.6632 25.848C14.0302 26 14.4962 26 15.4282 26C16.3602 26 16.8262 26 17.1932 25.848C17.436 25.7475 17.6566 25.6001 17.8425 25.4143C18.0283 25.2284 18.1757 25.0078 18.2762 24.765C18.3682 24.542 18.4052 24.282 18.4192 23.902C18.4392 23.344 18.7262 22.828 19.2092 22.549C19.4484 22.4152 19.7176 22.3443 19.9917 22.3429C20.2657 22.3415 20.5356 22.4097 20.7762 22.541C21.1122 22.719 21.3552 22.817 21.5952 22.849C21.8556 22.8834 22.1203 22.8661 22.3741 22.7981C22.6278 22.7302 22.8657 22.6129 23.0742 22.453C23.3892 22.211 23.6222 21.807 24.0882 21C24.5542 20.193 24.7882 19.79 24.8392 19.395C24.8735 19.1345 24.8563 18.8699 24.7883 18.6161C24.7204 18.3623 24.6031 18.1244 24.4432 17.916C24.2952 17.724 24.0882 17.563 23.7672 17.361C23.5331 17.2184 23.339 17.0187 23.2032 16.7807C23.0673 16.5427 22.994 16.2741 22.9902 16C22.9902 15.442 23.2942 14.936 23.7672 14.64C24.0882 14.437 24.2962 14.276 24.4432 14.084C24.6031 13.8756 24.7204 13.6377 24.7883 13.3839C24.8563 13.1301 24.8735 12.8655 24.8392 12.605C24.7872 12.211 24.5542 11.807 24.0892 11C23.6222 10.193 23.3892 9.79 23.0742 9.547C22.8657 9.38709 22.6278 9.26981 22.3741 9.20187C22.1203 9.13392 21.8556 9.11664 21.5952 9.151C21.3552 9.183 21.1122 9.281 20.7752 9.459C20.5348 9.59014 20.265 9.6582 19.9912 9.6568C19.7173 9.6554 19.4483 9.58459 19.2092 9.451C18.9738 9.31069 18.7779 9.11298 18.6397 8.87635C18.5016 8.63973 18.4257 8.37193 18.4192 8.098C18.4052 7.718 18.3692 7.458 18.2762 7.235C18.1757 6.99218 18.0283 6.77155 17.8425 6.58572C17.6566 6.3999 17.436 6.25251 17.1932 6.152Z" stroke="#2A2E33" stroke-width="1.5"/>
					</svg>
				</Button>

				<Button variant="ghost" size="icon" class="h-9 w-9">
					<svg width="30" height="32" viewBox="0 0 30 32" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M21.7501 13.71V13.005C21.7501 9.136 18.7261 6 15.0001 6C11.2741 6 8.25006 9.136 8.25006 13.005V13.71C8.25127 14.5516 8.01111 15.3758 7.55806 16.085L6.45006 17.81C5.43906 19.385 6.21106 21.526 7.97006 22.024C12.5664 23.3257 17.4338 23.3257 22.0301 22.024C23.7891 21.526 24.5611 19.385 23.5501 17.811L22.4421 16.086C21.9887 15.3769 21.7482 14.5527 21.7491 13.711L21.7501 13.71Z" stroke="#2A2E33" stroke-width="1.5"/>
						<path d="M10.5001 23C11.1551 24.748 12.9221 26 15.0001 26C17.0781 26 18.8451 24.748 19.5001 23M15.0001 10V14" stroke="#2A2E33" stroke-width="1.5" stroke-linecap="round"/>
					</svg>
				</Button>

				<!-- User Profile -->
				<div class="relative profile-dropdown">
					<button @click.stop="isProfileOpen = !isProfileOpen"
						class="flex items-center gap-3 hover:opacity-80 transition-opacity">
						<!-- Avatar -->
						<div class="h-10 w-10 rounded-full bg-[#0641FC] flex items-center justify-center flex-shrink-0">
							<span class="text-white font-semibold text-sm">AP</span>
						</div>

						<!-- User Info -->
						<div class="hidden sm:block text-left">
							<div class="text-sm font-medium text-black leading-tight">Empresarial</div>
							<div class="text-xs text-gray-500 leading-tight">Astra Pagamentos</div>
						</div>

						<!-- Dropdown Arrow -->
						<ChevronDown class="h-4 w-4 text-gray-500 hidden sm:block" />
					</button>

					<!-- Dropdown Menu (opcional) -->
					<div v-if="isProfileOpen"
						class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50"
						@click.stop>
						<a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Perfil</a>
						<a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Configurações</a>
						<a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Sair</a>
					</div>
				</div>
			</div>
		</div>
	</header>
</template>

<style scoped>
/* Click outside to close dropdown */
</style>
